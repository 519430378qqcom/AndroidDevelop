###NDK开发
####1.导入NDK环境
<pre>
在local.properties 文件中确保加入:
ndk.dir=C\:\\Android\\sdk\\ndk-bundle  ndk配置路径
sdk.dir=C\:\\Android\\sdk  
</pre>
####2.建立调用c++代码的Java类
<pre>
 public class NDK {
     static {
         System.loadLibrary("MyJni");
     }
     public native String getTime();
     public native String getTime1();
 }
 System.loadLibrary("MyJni");加载库，
 需要注意的是加载的库名即编译生成的库名，去掉前缀lib和后缀so。
 然后make project一下，目的就是编译成对应的class文件。
 然后根据生成的class文件，利用javah生成对应的 .h头文件
 </pre>
####3.生成.h头文件
<pre>
1.AS中点击Terminal，cd app\src\main,进入src\main\目录下:
2.执行Javah命令 
javah -d jni -classpath C:\Android\sdk\platforms\android-24\android.jar
;..\..\build\intermediates\classes\debug\ com.dong.develop.utils.NDK
或者
1.将目录定位到java目录下 
2.执行 javah -jni 全类名
3.将在Java目录下生成的 .h文件复制到jni目录下
<h4>命令说明</h4>
<pre>
javah -d jni -classpath
javah是生成头文件的工具，-d jni 在工程下生成jni目录，到时会在这个目录下建JNI开始的C/C++源文件的。
<br>
C:\Android\sdk\platforms\android-24\android.jar 
这个就是你SDK文件下android.jar所在的文件位置
<br>
;..\..\build\intermediates\classes\debug\ com.dong.develop.utils.NDK
在这个目录下找到对应的.Class文件，如果没有先make project
3.执行完这个命令后，会在main文件夹下自动生成jni目录和.h头文件
4.创建c文件实现native方法
最后还有配置一个地方：build.gradle文件的defaultConfig中加ndk
 ndk {
            moduleName "MyJni"
            abiFilters "arm64-v8a","armeabi-v7a","x86_64"
        }
 moduleName "MyJni"用于在目录‘app/build/intermediates/ndk’下生成新的so库 
 System.loadLibrary("MyJni");加载so库时首先在jnilibs下找，没有的话会用‘app/build/intermediates/ndk’
 目录下的so库，如果也没有报错
</pre>
####4.编写.C文件
<pre>
    com_dong_develop_utils_NDK.h文件如下：
    
    /* DO NOT EDIT THIS FILE - it is machine generated */
    #include <jni.h>
    /* Header for class com_dong_develop_utils_NDK */
    
    #ifndef _Included_com_dong_develop_utils_NDK
    #define _Included_com_dong_develop_utils_NDK
    #ifdef __cplusplus
    extern "C" {
    #endif
    /*
     * Class:     com_dong_develop_utils_NDK
     * Method:    getTime
     * Signature: ()Ljava/lang/String;
     */
    JNIEXPORT jstring JNICALL Java_com_dong_develop_utils_NDK_getTime
      (JNIEnv *, jobject);
    
    /*
     * Class:     com_dong_develop_utils_NDK
     * Method:    getTime1
     * Signature: ()Ljava/lang/String;
     */
    JNIEXPORT jstring JNICALL Java_com_dong_develop_utils_NDK_getTime1
      (JNIEnv *, jobject);
    
    #ifdef __cplusplus
    }
    #endif
    #endif
    
    复制修改后缀为com_dong_develop_utils_NDK.c并进行编写
    编写后如下：
    
    /* DO NOT EDIT THIS FILE - it is machine generated */
    #include <jni.h>
    /* Header for class com_dong_develop_utils_NDK */
    
    #ifndef _Included_com_dong_develop_utils_NDK
    #define _Included_com_dong_develop_utils_NDK
    #ifdef __cplusplus
    extern "C" {
    #endif
    /*
     * Class:     com_dong_develop_utils_NDK
     * Method:    getTime
     * Signature: ()Ljava/lang/String;
     */
    JNIEXPORT jstring JNICALL Java_com_dong_develop_utils_NDK_getTime
      (JNIEnv *env, jobject obj){
        return (*env)->NewStringUTF(env,"Hello JNI!");
    }
    
    /*
     * Class:     com_dong_develop_utils_NDK
     * Method:    getTime1
     * Signature: ()Ljava/lang/String;
     */
    JNIEXPORT jstring JNICALL Java_com_dong_develop_utils_NDK_getTime1
            (JNIEnv *env, jobject obj){
        return (*env)->NewStringUTF(env,"什么鬼！！！");
    }
    
    #ifdef __cplusplus
    }
    #endif
    #endif
</pre>
####5.makeproject并且在代码中调用native方法